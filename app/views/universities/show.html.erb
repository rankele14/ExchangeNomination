<header style="margin-top: 0;">
  <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #3C0000; padding-top: 0;padding-bottom: 0;">
    <div class = "row" style="height:35px; padding-bottom: 0;">
      <div class="col-sm-auto" style="margin-bottom: 0;">
        <%= button_to "Back to Universities", universities_path, :class => "new-navbar-box", :method => :get %>
      </div>
    </div>
  <nav>
</header>

<p id="notice"><%= notice %></p>

<div style="margin-top: 10px; padding-left: 30px; padding-right: 30px;">
  <div class="container show-box">
    <% content_for :title, "Universities: " + @university.university_name%>

    <p>
      <strong>University name:</strong>
      <%= @university.university_name %>
      <br>
      <strong>Number of submitted nominees:</strong>
      <%= @university.num_nominees %>
      <br>
      <strong>Nominee submission limit:</strong>
      <%= @university.max_limit %>
    </p>

    <br>

    <p style="font-size:130%;">Nominators for this University:</p>

    <div class="row justify-content-center">
      <div class="col-auto">
        <table class="table center">
          <thead class="thread-dark">
            <tr>
              <th>First name</th>
              <th>Last name</th>
              <th>Title</th>
              <th>Email</th>
              <th colspan="3"></th>
            </tr>
          </thead>

          <tbody>
            <% @representatives.each do |representative| %>
              <tr>
                <td><%= representative.first_name %></td>
                <td><%= representative.last_name %></td>
                <td><%= representative.title %></td>
                <td><%= representative.rep_email %></td>
                <td><%= button_to 'Show', representative, :class => "show-button", :method => :get %></td>
                <td><%= button_to 'Edit', edit_representative_path(representative), :class => "edit-button", :method => :get %></td>
                <td><%= button_to 'Delete', representative, :class => "delete-button", method: :delete, data: { confirm: 'Are you sure?' } %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <%= button_to "Add Nominator", new_representative_path, :class => "create-new-item-button", :method => :get %>
    </div>
    
    <br><br>

    <p style="font-size:130%;">Student Nominees for this University:</p>

    <div class="row justify-content-center">
      <div class="col-auto">
        <table class="table center">
          <thead class="thread-dark">
            <tr>
              <th>First name</th>
              <th>Last name</th>
              <th>Nominator</th>
              <th>Degree level</th>
              <th>Major/Area of Study</th>
              <th>Term of exchange</th>
              <th>Email</th>
              <th colspan="3"></th>
            </tr>
          </thead>

          <tbody>
            <% @students.each do |student| %>
              <tr>
                <td><%= student.first_name %></td>
                <td><%= student.last_name %></td>
                <td><%= [Representative.find(student.representative_id).first_name, Representative.find(student.representative_id).last_name].join(' ') %></td>
                <td><%= student.degree_level %></td>
                <td><%= student.major %></td>
                <td><%= student.exchange_term %></td>
                <td><%= student.student_email %></td>
                <td><%= button_to 'Show', student, :class => "show-button", :method => :get %></td>
                <td><%= button_to 'Edit', edit_student_path(student), :class => "edit-button", :method => :get %></td>
                <td><%= button_to 'Delete', student, :class => "delete-button", method: :delete, data: { confirm: 'Are you sure?' } %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <%= button_to "Add Student", new_student_path, :class => "create-new-item-button", :method => :get %>
    </div>

    <br><br>
    <div class="row" style="margin-top: 20px;">
      <div class="col-auto">
        <%= button_to 'Edit', edit_university_path(@university), :class => "edit-button", :method => :get %>
      </div>
      <div class="col-auto">
        <%= button_to 'Delete', delete_university_path(@university), :class => "delete-button", :method => :get %>
      </div>
    </div>
  </div>
</div>
